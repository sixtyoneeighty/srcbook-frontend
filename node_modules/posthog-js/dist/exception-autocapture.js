!function(){"use strict";const e=Array.isArray,n=Object.prototype.toString,t=e||function(e){return"[object Array]"===n.call(e)},r=function(e){return"function"==typeof e},o=function(e){return e===Object(e)&&!t(e)},i=function(e){return void 0===e},c=function(e){return"[object String]"==n.call(e)},l=function(e){return c(e)&&0===e.trim().length},s=function(e){return null===e};function a(e){return!i(Event)&&u(e,Event)}function u(e,n){try{return e instanceof n}catch{return!1}}function d(e){return s(e)||!o(e)&&!r(e)}function f(e,n){return Object.prototype.toString.call(e)===`[object ${n}]`}function p(e){return f(e,"DOMError")}const v=/\(error: (.*)\)/,g=50,h="?";function E(e,n,t,r){const o={filename:e,function:"<anonymous>"===n?h:n,in_app:!0};return i(t)||(o.lineno=t),i(r)||(o.colno=r),o}const x=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,y=/\((\S*)(?::(\d+))(?::(\d+))\)/,m=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,w=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,O=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];const r=n.sort(((e,n)=>e[0]-n[0])).map((e=>e[1]));return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const t=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=v.test(n)?n.replace(v,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of r){const n=e(i);if(n){t.push(n);break}}if(t.length>=g)break}}return function(e){if(!e.length)return[];const n=Array.from(e);return n.reverse(),n.slice(0,g).map((e=>({...e,filename:e.filename||b(n).filename,function:e.function||h})))}(t)}}(...[[30,e=>{const n=x.exec(e);if(n){const[,e,t,r]=n;return E(e,h,+t,+r)}const t=_.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=y.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=j(t[1]||h,t[2]);return E(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const n=m.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){const e=w.exec(n[3]);e&&(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]="")}let e=n[3],t=n[1]||h;return[t,e]=j(t,e),E(e,t,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}]]);function b(e){return e[e.length-1]||{}}const j=(e,n)=>{const t=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return t||r?[-1!==e.indexOf("@")?e.split("@")[0]:h,t?`safari-extension:${n}`:`safari-web-extension:${n}`]:[e,n]};let M;!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(M||(M={}));const T=["fatal","error","warning","log","info","debug"],$=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function S(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const t=e.stacktrace||e.stack||"",r=function(e){if(e&&A.test(e.message))return 1;return 0}(e);try{const e=O(t,r);return e.slice(0,e.length-n)}catch{}return[]}const A=/Minified React error #\d+;/i;function R(e,n){var t,r;const o=S(e),i=null===(t=null==n?void 0:n.handled)||void 0===t||t,c=null!==(r=null==n?void 0:n.synthetic)&&void 0!==r&&r;return{$exception_list:[{type:null!=n&&n.overrideExceptionType?n.overrideExceptionType:e.name,value:null!=n&&n.overrideExceptionMessage?n.overrideExceptionMessage:function(e){const n=e.message;if(n.error&&"string"==typeof n.error.message)return n.error.message;return n}(e),stacktrace:{frames:o},mechanism:{handled:i,synthetic:c}}],$exception_level:"error"}}function D(e,n){var t,r,o;const i=null===(t=null==n?void 0:n.handled)||void 0===t||t,c=null===(r=null==n?void 0:n.synthetic)||void 0===r||r,l={type:null!=n&&n.overrideExceptionType?n.overrideExceptionType:null!==(o=null==n?void 0:n.defaultExceptionType)&&void 0!==o?o:"Error",value:null!=n&&n.overrideExceptionMessage?n.overrideExceptionMessage:e||(null==n?void 0:n.defaultExceptionMessage),mechanism:{handled:i,synthetic:c}};if(null!=n&&n.syntheticException){const e=S(n.syntheticException,1);e.length&&(l.stacktrace={frames:e})}return{$exception_list:[l],$exception_level:"error"}}function P(e,n){var t,r;const o=null===(t=null==n?void 0:n.handled)||void 0===t||t,i=null===(r=null==n?void 0:n.synthetic)||void 0===r||r,s=null!=n&&n.overrideExceptionType?n.overrideExceptionType:a(e)?e.constructor.name:"Error",u=null!=n&&n.overrideExceptionMessage?n.overrideExceptionMessage:`Non-Error exception captured with keys: ${function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const t=Object.keys(e);if(t.sort(),!t.length)return"[object has no keys]";for(let e=t.length;e>0;e--){const r=t.slice(0,e).join(", ");if(!(r.length>n))return e===t.length||r.length<=n?r:`${r.slice(0,n)}...`}return""}(e)}`,d={type:s,value:u,mechanism:{handled:o,synthetic:i}};if(null!=n&&n.syntheticException){const e=S(null==n?void 0:n.syntheticException,1);e.length&&(d.stacktrace={frames:e})}return{$exception_list:[d],$exception_level:(f=e.level,c(f)&&!l(f)&&T.indexOf(f)>=0?e.level:"error")};var f}function k(e,n){let[t,r,o,l,s]=e,d={$exception_list:[]};const v=s||t;if(p(v)||function(e){return f(e,"DOMException")}(v)){const e=v;if(function(e){return"stack"in e}(v))d=R(v,n);else{const t=e.name||(p(e)?"DOMError":"DOMException"),r=e.message?`${t}: ${e.message}`:t,o=p(e)?"DOMError":"DOMException";d=D(r,{...n,overrideExceptionType:o,defaultExceptionMessage:r})}return"code"in e&&(d.$exception_DOMException_code=`${e.code}`),d}if(function(e){return f(e,"ErrorEvent")}(v)&&v.error)return R(v.error,n);if(function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return u(e,Error)}}(v))return R(v,n);if(function(e){return f(e,"Object")}(v)||a(v)){return P(v,n)}if(i(s)&&c(t)){let e="Error",r=t;const o=t.match($);return o&&(e=o[1],r=o[2]),D(r,{...n,overrideExceptionType:e,defaultExceptionMessage:r})}return D(v,n)}function U(e){let[n]=e;const t=function(e){if(d(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(n);return d(t)?D(`Non-Error promise rejection captured with value: ${String(t)}`,{handled:!1,synthetic:!1,overrideExceptionType:"UnhandledRejection"}):k([t],{handled:!1,overrideExceptionType:"UnhandledRejection",defaultExceptionMessage:String(t)})}const H="undefined"!=typeof window?window:void 0,N="undefined"!=typeof globalThis?globalThis:H,G=null==N?void 0:N.navigator;null==N||N.document,null==N||N.location,null==N||N.fetch,null!=N&&N.XMLHttpRequest&&"withCredentials"in new N.XMLHttpRequest&&N.XMLHttpRequest,null==N||N.AbortController,null==G||G.userAgent;const I=null!=H?H:{},z="[PostHog.js]",q={_log:function(e){if(H&&I.POSTHOG_DEBUG&&!i(H.console)&&H.console){const o="__rrweb_original__"in H.console[e]?H.console[e].__rrweb_original__:H.console[e];for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];o(z,...t)}},info:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];q._log("log",...n)},warn:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];q._log("warn",...n)},error:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];q._log("error",...n)},critical:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];console.error(z,...n)},uninitializedWarning:e=>{q.error(`You must initialize PostHog before calling ${e}`)}},L={wrapOnError:e=>{const n=H;n||q.info("window not available, cannot wrap onerror");const t=n.onerror;return n.onerror=function(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const c=k(o);return e(c),null!==(n=null==t?void 0:t(...o))&&void 0!==n&&n},n.onerror.__POSTHOG_INSTRUMENTED__=!0,()=>{var e;null===(e=n.onerror)||void 0===e||delete e.__POSTHOG_INSTRUMENTED__,n.onerror=t}},wrapUnhandledRejection:e=>{const n=H;n||q.info("window not available, cannot wrap onUnhandledRejection");const t=n.onunhandledrejection;return n.onunhandledrejection=function(){for(var r,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];const l=U(i);return e(l),null!==(r=null==t?void 0:t.apply(n,i))&&void 0!==r&&r},n.onunhandledrejection.__POSTHOG_INSTRUMENTED__=!0,()=>{var e;null===(e=n.onunhandledrejection)||void 0===e||delete e.__POSTHOG_INSTRUMENTED__,n.onunhandledrejection=t}}};I.__PosthogExtensions__=I.__PosthogExtensions__||{},I.__PosthogExtensions__.errorWrappingFunctions=L,I.__PosthogExtensions__.parseErrorAsProperties=k,I.posthogErrorWrappingFunctions=L,I.parseErrorAsProperties=k}();
//# sourceMappingURL=exception-autocapture.js.map
